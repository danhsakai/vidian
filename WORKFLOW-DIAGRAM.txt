═══════════════════════════════════════════════════════════════════════════
                    VIDIAN WORKFLOW - SƠ ĐỒ LUỒNG HOẠT ĐỘNG
═══════════════════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────────────────┐
│                          BƯỚC 1: SETUP BAN ĐẦU                          │
│                          (Chỉ làm 1 lần)                                │
└─────────────────────────────────────────────────────────────────────────┘
                                     │
                                     ▼
                            ┌────────────────┐
                            │  npm install   │
                            └────────────────┘
                                     │
                                     ▼
                         ┌──────────────────────┐
                         │ Config watermark     │
                         │ (tùy chọn)          │
                         └──────────────────────┘
                                     │
                                     ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                        BƯỚC 2: XỬ LÝ HÌNH ẢNH                           │
│                     (Mỗi khi có ảnh mới)                                │
└─────────────────────────────────────────────────────────────────────────┘
                                     │
                    ┌────────────────┴────────────────┐
                    │                                  │
                    ▼                                  ▼
        ┌──────────────────────┐          ┌──────────────────────┐
        │  Đặt ảnh gốc vào     │          │  Đặt tên có quy tắc  │
        │  folder Cover/       │          │  VD: Name-0.jpg      │
        │  (JPG/PNG)           │          │      Name-1.jpg      │
        └──────────────────────┘          └──────────────────────┘
                    │                                  │
                    └────────────────┬─────────────────┘
                                     ▼
                         ┌──────────────────────┐
                         │  npm run compress    │
                         └──────────────────────┘
                                     │
                    ┌────────────────┼────────────────┐
                    ▼                ▼                ▼
            ┌──────────┐     ┌──────────┐    ┌─────────────┐
            │ Backup   │     │ Nén JPG  │    │ Add         │
            │ ảnh gốc  │     │ → WebP   │    │ Watermark   │
            └──────────┘     │ (80%)    │    │ (optional)  │
                             └──────────┘    └─────────────┘
                                     │
                                     ▼
                         ┌──────────────────────┐
                         │  Cover/              │
                         │  ├─ Name-0.webp ✅   │
                         │  ├─ Name-1.webp ✅   │
                         │  └─ Name-2.webp ✅   │
                         └──────────────────────┘
                                     │
                                     ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                       BƯỚC 3: VIẾT NỘI DUNG                             │
│                         (Phần chính)                                    │
└─────────────────────────────────────────────────────────────────────────┘
                                     │
                                     ▼
                    ┌──────────────────────────────┐
                    │  Tạo file Raw/article.md     │
                    └──────────────────────────────┘
                                     │
                    ┌────────────────┴────────────────┐
                    │                                  │
                    ▼                                  ▼
        ┌──────────────────────┐          ┌──────────────────────┐
        │  # Tiêu đề           │          │  ![Alt](img.webp)    │
        │  ## Phần 1           │          │  → Ảnh đơn           │
        │  Nội dung...         │          │                      │
        └──────────────────────┘          └──────────────────────┘
                    │                                  │
                    │                                  ▼
                    │              ┌──────────────────────────────────┐
                    │              │  ![Alt](Name-{0-5}.webp)         │
                    │              │  → PATTERN EXPANSION! ⚡         │
                    │              │  → Tự động tạo 6 ảnh             │
                    │              └──────────────────────────────────┘
                    │                                  │
                    └────────────────┬─────────────────┘
                                     ▼
                         ┌──────────────────────┐
                         │  Raw/article.md ✅   │
                         └──────────────────────┘
                                     │
                                     ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                     BƯỚC 4: CONVERT SANG HTML                           │
│                         (Tự động)                                       │
└─────────────────────────────────────────────────────────────────────────┘
                                     │
                                     ▼
                         ┌──────────────────────┐
                         │  npm run convert     │
                         └──────────────────────┘
                                     │
            ┌────────────────────────┼────────────────────────┐
            │                        │                        │
            ▼                        ▼                        ▼
    ┌──────────────┐       ┌─────────────────┐      ┌─────────────┐
    │ Expand       │       │ Parse Markdown  │      │ Group       │
    │ Pattern      │       │ → HTML          │      │ Images      │
    │ {0-5} → 6    │       │                 │      │ → Gallery   │
    └──────────────┘       └─────────────────┘      └─────────────┘
            │                        │                        │
            └────────────────────────┼────────────────────────┘
                                     │
                    ┌────────────────┴────────────────┐
                    │                                  │
                    ▼                                  ▼
        ┌──────────────────────┐          ┌──────────────────────┐
        │ Add CDN path         │          │ Merge vào template   │
        │ to images            │          │ với CSS              │
        └──────────────────────┘          └──────────────────────┘
                    │                                  │
                    └────────────────┬─────────────────┘
                                     ▼
                         ┌──────────────────────┐
                         │  Raw/article-        │
                         │  new.html ✅         │
                         └──────────────────────┘
                                     │
                                     ▼
        ┌──────────────────────────────────────────────┐
        │  HTML Output có:                             │
        │  ✓ Single images với class article__image   │
        │  ✓ Galleries với class gallery-grid         │
        │  ✓ CDN paths đầy đủ                         │
        │  ✓ Responsive CSS                           │
        │  ✓ Ready to publish!                        │
        └──────────────────────────────────────────────┘
                                     │
                                     ▼
┌─────────────────────────────────────────────────────────────────────────┐
│                         BƯỚC 5: ĐĂNG BÀI                                │
│                         (1 phút)                                        │
└─────────────────────────────────────────────────────────────────────────┘
                                     │
                    ┌────────────────┴────────────────┐
                    │                                  │
                    ▼                                  ▼
        ┌──────────────────────┐          ┌──────────────────────┐
        │  Mở HTML file        │          │  Copy <article>      │
        │                      │          │  content             │
        └──────────────────────┘          └──────────────────────┘
                    │                                  │
                    └────────────────┬─────────────────┘
                                     ▼
                         ┌──────────────────────┐
                         │  Paste vào           │
                         │  WordPress/CMS       │
                         └──────────────────────┘
                                     │
                                     ▼
                         ┌──────────────────────┐
                         │  Preview & Publish   │
                         └──────────────────────┘
                                     │
                                     ▼
                              ┌─────────┐
                              │ DONE! 🎉│
                              └─────────┘

═══════════════════════════════════════════════════════════════════════════
                              TÓM TẮT NHANH
═══════════════════════════════════════════════════════════════════════════

INPUT                          PROCESS                       OUTPUT
─────────────────────────────────────────────────────────────────────────
                                                             
📷 JPG/PNG Images         →    compress-images.js      →    📦 WebP (nén 70%)
   (1-2 MB/ảnh)                + Watermark                      + Watermark
                                + Backup                         (280 KB/ảnh)
                                                             
✍️  Markdown File         →    convert-md-to-html.js   →    📄 HTML + CSS
   (.md)                       + Pattern expansion             + Responsive
   + Pattern {0-5}             + Auto gallery                  + CDN paths
                                + Styling                       Ready to publish
                                                             
═══════════════════════════════════════════════════════════════════════════

THỜI GIAN HOÀN THÀNH MỖI BÀI VIẾT: ~15-20 PHÚT

• Compress ảnh: 2-3 phút
• Viết Markdown: 10-15 phút (nhờ pattern siêu nhanh)
• Convert HTML: 10 giây
• Copy & publish: 1 phút

TỔNG: Nhanh hơn 70-80% so với làm thủ công!

═══════════════════════════════════════════════════════════════════════════
